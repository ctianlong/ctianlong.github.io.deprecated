<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>MySQL被黑客入侵及安全措施总结</title>
      <link href="/posts/d82d4f3e/"/>
      <url>/posts/d82d4f3e/</url>
      
        <content type="html"><![CDATA[<h3 id="情况概述"><a href="#情况概述" class="headerlink" title="情况概述"></a>情况概述</h3><p>今天登陆在腾讯云服务器上搭建的MySQL数据库，发现数据库被黑了，黑客提示十分明显。</p><p>MySQL中只剩下两个数据库，一个是<code>information_schema</code>，另一个是黑客创建的<code>PLEASE_READ</code>，其中有一张<code>info</code>表，内容如下：</p><ul><li><code>Info</code>: Your DB is Backed up at our servers, to restore send 0.2 BTC to the Bitcoin Address then send an email with your server ip</li><li><code>Bitcoin_Address</code>: 1F33LEJjdphD6YpaonNCHejwLcgkgDGQW9</li><li><code>Email</code>: MySQLdata@mail2tor.com</li></ul><p>显然，我这是遇到比特币敲诈了。我的数据在别人的服务器里安然的躺着，需要向黑客支付0.2比特币才有可能恢复。按照当前的汇率，0.2比特币大约为1400人民币，这是我第一次遇到网络敲诈，金额还不小。</p><p>所幸数据库里并没有值钱的数据，就当是送给黑客了，不过 <strong><em>数据库安全问题</em></strong> 引起了我的注意。</p><h3 id="安全措施"><a href="#安全措施" class="headerlink" title="安全措施"></a>安全措施</h3><p>由于缺乏必要的安全措施和备份机制，数据库中原有的数据均已丢失。为了恢复到MySQL初始的状态，重新安装了MySQL数据库，并且重新创建原先存在的数据库，同时，为了防止再次被黑客入侵，对MySQL进行了一些安全配置。</p><ul><li>禁用或限制远程访问。若允许远程访问，需要确保特定主机才拥有访问权。<ul><li>对用户进行合理授权，应用程序中最好不要直接使用<code>root</code>用户。</li><li>限制打开网络socket，此时仍可以建立与MySQL服务器的本地连接。<pre><code>[MySQLd]skip-networking</code></pre></li><li>强迫MySQL仅监听本机。<pre><code>[MySQLd]bind-address=127.0.0.1</code></pre></li></ul></li><li>更改<code>root</code>用户的登录名称和密码。</li><li>移除测试数据库和匿名账户及废弃的账户。</li><li>禁用<code>LOCAL INFILE</code>。<pre><code>[MySQLd]set-variable=local-infile=0</code></pre></li><li>删除历史命令记录。<pre class=" language-bash"><code class="language-bash"><span class="token function">cat</span> /dev/null <span class="token operator">></span> ~/.bash_history<span class="token function">cat</span> /dev/null <span class="token operator">></span> ~/.MySQL_history</code></pre></li><li>及时安装MySQL安全补丁。</li><li>使用<code>chroot</code>限制MySQL运行环境。</li><li>自动定期备份数据库。</li></ul>]]></content>
      
      
      <categories>
          
          <category> MySQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySQL </tag>
            
            <tag> 数据库安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>HelloWorld</title>
      <link href="/posts/5e57e19a/"/>
      <url>/posts/5e57e19a/</url>
      
        <content type="html"><![CDATA[<p><img src="http://static.tongjilab.cn/image/20170215/142547700.jpg" alt="alt sun"></p><blockquote><p>心情不好就少听悲伤的歌，饿了就自己找吃的，怕黑就开灯，想要的就自己赚钱买，即使生活给了你百般阻挠，也没必要用矫情放大自己的不容易，现实就这么残酷，拿什么装无辜。改变不了的事就别太在意，留不住的人就试着学会放弃，受了伤的心就尽力自愈，除了生死，都是小事，别为难。</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> HelloWorld </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
